<!DOCTYPE html>
<html>
<head>
    <title>DBPatterns</title>
    <link rel="stylesheet" href="{{ STATIC_URL }}css/h5bp.css" />
    <link rel="stylesheet" href="{{ STATIC_URL }}css/screen.css" />
</head>
<body>

<!-- layout -->
<article id="document">
    <header role="banner">
        <h1 class="edit-title">test</h1>
    </header>
    <nav>
        <ul>
            <li><a href="#" class="save-document">Save document</a></li>
            <li><a href="#" class="new-entity">New entity</a></li>
        </ul>
    </nav>
    <div id="entities">

    </div>
</article>

<!-- templates -->

<script type="text/html" id="attribute-list-template">
    <ul></ul>
    <a href="#" class="new-attribute">new</a>
</script>

<script type="text/html" id="attribute-template">
    <%= name %>
</script>

<script type="text/html" id="entity-template">
    <header>
        <h3><%= name %></h3>
    </header>
    <section class="attributes"></section>
    <footer>
        <a href="#" class="destroy">delete</a>
    </footer>
</script>

<!-- libs -->
<script src="{{ STATIC_URL }}js/libs/jquery/jquery-min.js"></script>
<script src="{{ STATIC_URL }}js/libs/jquery/jquery-ui-min.js"></script>
<script src="{{ STATIC_URL }}js/libs/underscore/underscore-min.js"></script>
<script src="{{ STATIC_URL }}js/libs/backbone/backbone.js"></script>

<!-- namespaces -->
<script type="text/javascript">
    var dbpatterns = {
        models: {},
        collections: {},
        views: {}
    };
</script>

<!-- application -->
<script src="{{ STATIC_URL }}js/models/document.js"></script>
<script src="{{ STATIC_URL }}js/models/entity.js"></script>
<script src="{{ STATIC_URL }}js/views/document.js"></script>
<script src="{{ STATIC_URL }}js/views/entity.js"></script>
<script src="{{ STATIC_URL }}js/views/attribute.js"></script>
<script src="{{ STATIC_URL }}js/models/attribute.js"></script>
<script src="{{ STATIC_URL }}js/utils/tastypie.js"></script>

<!-- bootstrap -->
<script type="text/javascript">
  $(function () {

      window.document_model = new dbpatterns.models.Document({
          "resource_uri": "/api/documents/50678ed3ca21fe08bad2a7c5"
      });

      new dbpatterns.views.Document({
          "model": document_model,
          "entity_collection": (new dbpatterns.collections.Entity())
      });

    document_model.fetch();


  });
</script>


</body>
</html>