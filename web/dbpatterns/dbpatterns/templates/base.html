<!DOCTYPE html>
<html>
<head>
    <title>DBPatterns</title>
    <link rel="stylesheet" href="{{ STATIC_URL }}css/h5bp.css" />
    <link rel="stylesheet" href="{{ STATIC_URL }}css/screen.css" />
</head>
<body>

<header role="banner">
    <h1>Friendship model</h1>
</header>

<script type="text/html" id="attribute_template">
    <li><%= name %></li>
</script>
<script type="text/html" id="entity_template">
    <div class="entity" <% if (entity.position) { %> style="top: <%= entity.position.top %>; left: <%= entity.position.left %>"<% } %>>
        <header>
            <h3><%= entity.name %></h3>
        </header>
        <ul>
            <% for ( var i = 0; i < entity.attributes.length; i++ ) { %>
            <%= tmpl("attribute_template", entity.attributes[i]) %>
            <% } %>
        </ul>
        <footer>
            <a href="#" class="new">new</a>
        </footer>
    </div>


</script>
<script type="text/javascript">var dbpatterns = {}; // global namespace</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"></script>
<script src="{{ STATIC_URL }}js/jquery.class.min.js"></script>
<script src="{{ STATIC_URL }}js/raphael.js"></script>
<script src="{{ STATIC_URL }}js/tmpl.js"></script>
<script src="{{ STATIC_URL }}js/dbpatterns.document.js"></script>
<script src="{{ STATIC_URL }}js/dbpatterns.entity.js"></script>

    <script type="text/javascript">
    $(function () {
        var db_document = new dbpatterns.Document({
            "document_container": "body"
        });

        window.entity = new dbpatterns.Entity({
            "name": "users",
            "position": {
                "left": "100px",
                "top": "200px"
            },
            "attributes": [
                {
                    "name": "id",
                    "type": "auto-increment"
                },
                {
                    "name": "first_name",
                    "type": "string"
                }
            ]
        });

        db_document.add_entity(entity);


    });
    </script>

</body>
</html>